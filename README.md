# M4B to MP3 Converter

A web application that converts M4B/M4A audiobook files into chapter-split MP3 files.

100% generated by Claude.

## Features

- Upload M4B/M4A files or select from Audiobookshelf library
- Splits audiobooks by chapter
- Embeds metadata (title, author, narrator) and cover art into MP3s
- Downloads as a ZIP file
- Job queue with real-time progress updates
- Dark mode support

## Requirements

- Docker and Docker Compose
- (Optional) Audiobookshelf instance for library integration

## Quick Start

1. Clone the repository
2. Copy and edit the docker-compose.yml with your settings
3. Run:

```bash
docker compose up -d
```

4. Access at http://localhost:5000

## Configuration

Environment variables in docker-compose.yml:

| Variable             | Description                  | Default            |
| -------------------- | ---------------------------- | ------------------ |
| APP_USERNAME         | Login username               | admin              |
| APP_PASSWORD         | Login password               | password-to-change |
| SECRET_KEY           | Session secret (change this) | -                  |
| AUDIOBOOKSHELF_URL   | Audiobookshelf server URL    | -                  |
| AUDIOBOOKSHELF_TOKEN | Audiobookshelf API token     | -                  |
| TEMP_DIR             | Custom temp directory        | system default     |

## Audiobookshelf Integration

To enable library browsing:

1. Go to Audiobookshelf Settings > Users > Your User
2. Generate an API token
3. Add AUDIOBOOKSHELF_URL and AUDIOBOOKSHELF_TOKEN to your docker-compose.yml

## Using External Storage for Temp Files

To store temp files on a different drive (e.g., HDD instead of SSD):

```yaml
services:
  m4b-to-mp3:
    environment:
      - TEMP_DIR=/data/temp
    volumes:
      - /mnt/hdd/m4b-temp:/data/temp
    user: "1000:1000" # Your UID:GID to avoid permission issues
```

## License

MIT
